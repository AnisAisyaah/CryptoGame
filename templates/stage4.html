<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="/static/style.css">
    <script>
    const phi = {{ phi | safe }};
    const e = {{ e | safe }};
    const kCorrect = {{ k_correct | safe }};
    </script>
    <script src="/static/game.js"></script>
</head>
<body>
<div class="container">
    <div id="timer">‚è≥ 60s</div>
    <div class="progress"><div class="progress-bar" style="--progress:100%"></div></div>

    <p>Encrypted: {{ encrypted }}</p>

    <!-- ================= HINT BUTTON ================= -->
    <button type="button" onclick="getHint()">üí° Try k Hint</button>

    <div id="hintBox" style="display:none; border:1px solid #ccc; padding:10px; margin:10px;">
        <h4>How to find d:</h4>
        <p>d = (kœÜ(n)+1) √∑ e</p>

        <div>
            <label>Enter k: <input type="number" id="kInput" /></label>
            <button type="button" onclick="tryK()">Try k</button>
        </div>

        <div id="hintSteps" style="margin-top:10px;"></div>
    </div>

    <!-- =============================================== -->


    <form method="post">
        <input name="d" type="number" placeholder="Private key d" required><br>
        <button>DECRYPT</button>
    </form>

    {% if success %}
    <p class="success">üéâ {{ decrypted }}</p>
    <p>‚è± {{ time_taken }} seconds</p>
    <form method="post" action="/save_score">
        <input name="name" placeholder="Your name" required>
        <button>SUBMIT SCORE</button>
    </form>
    {% endif %}

    {% if error %}<p class="error">{{ error }}</p>{% endif %}
</div>
</body>
</html>
